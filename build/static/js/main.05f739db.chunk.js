(this.webpackJsonplcc_export=this.webpackJsonplcc_export||[]).push([[0],{14:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),i=n(5),a=n(6),c=n(8),o=n(7),s=n(1),l=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{ref:this.props.refprop,className:"anchor",id:this.props.id})}}]),n}(s.Component)},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n(10),i=n(2),a=n(9),c=.5,o=.4,s=.8,l=function(e,t){var n=e.reduce((function(e,t){return e.push(t.route),e}),[]);b(n,t)},u=function(){m([0,1,2,3,4,5,6,7,8]),x(document.querySelectorAll(".sectionTitle")),x(document.querySelectorAll(".sectionSubtitle"))},d=function(){f()},h=function(){v(),x(document.querySelectorAll(".teamItem")),x(document.querySelectorAll("#storyText")),x(document.querySelectorAll("#family"))},p=function(){j()},b=function(e,t){e.map((function(n){return a.a.create({trigger:"#Anchor_"+n,start:"50% 50%",end:"50% 50%",onEnter:function(e){return n=e.vars.trigger.split("#Anchor_")[1],void t.setState({route:n});var n},onLeaveBack:function(n){return function(n){try{t.setState({route:e[e.indexOf(n)-1]})}catch(r){console.warn("Error on the sequence of nav items when moving upwards")}}(n.vars.trigger.split("#Anchor_")[1])}})}))},m=function(e){x(document.querySelectorAll(".wineHeaderText"));i.a.to(".wineOverview",{opacity:0,scale:.8}),i.a.timeline({scrollTrigger:{trigger:".winesTitle",start:"50% 60%",id:"overview",scrub:!0,onEnter:function(){return i.a.to(".wineOverview",{opacity:1,scale:1,duration:c})},onLeaveBack:function(){return i.a.to(".wineOverview",{opacity:0,scale:.8,duration:o})}}}),e.map((function(e){try{return i.a.to("#wine"+e,{opacity:0,xPercent:e%2===1?-10:10,duration:0}),i.a.to("#wine"+e+" .winePicture",{opacity:0,duration:0,yPercent:5}),i.a.timeline({scrollTrigger:{trigger:"#wine"+e,start:"50% 90%",end:"50% 50%",scrub:!0,onEnter:function(){return i.a.timeline().to("#wine"+e,{opacity:1,xPercent:0,duration:c,ease:""},0).to("#wine"+e+" .winePicture",{opacity:1,duration:o,yPercent:0,ease:"power1"},.25)},onLeaveBack:function(){return i.a.timeline().to("#wine"+e,{opacity:0,xPercent:e%2===1?-10:10,duration:o,ease:"power1.in"},0).to("#wine"+e+" .winePicture",{opacity:0,duration:o,yPercent:5},0)}}}),!0}catch(t){return t}}))},f=function(){x(document.querySelectorAll(".wineryItem")),x(document.querySelectorAll("#galleryWrapper")),i.a.timeline({scrollTrigger:{trigger:"#winerytitle",start:"50% 90%",end:"50% 10%",scrub:!0}}).from("#winerytitle",{scale:.9,opacity:0,duration:2,yPercent:30,ease:"power3.out"},0).from("#winerybanner",{scale:1.2,duration:2,yPercent:-10,ease:"power2.out"},0)},v=function(){x(document.querySelectorAll(".teamItem")),i.a.to("#trio",{filter:"grayscale(100%)"}),i.a.timeline({scrollTrigger:{trigger:"#trio",start:"50% 100%",end:"50% 40%",id:"overview",scrub:!0}}).to("#trio",{filter:"grayscale(0%)",scale:1.05,duration:c})},j=function(){x(document.querySelectorAll(".contactItem")),x(document.querySelectorAll("#domainlocationmap"))},x=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"4em 100%",a=Object(r.a)(e);try{var l=function(){var e=t.value;i.a.to(e,{opacity:0,scale:s}),i.a.timeline({scrollTrigger:{trigger:e,start:n,id:"overview",scrub:!0,onEnter:function(){return i.a.to(e,{opacity:1,scale:1,duration:c})},onLeaveBack:function(){return i.a.to(e,{opacity:0,scale:s,duration:o})}}})};for(a.s();!(t=a.n()).done;)l()}catch(u){a.e(u)}finally{a.f()}}},27:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),a=n.n(i),c=n(18),o=n.n(c),s=(n(26),n(27),n(5)),l=n(6),u=n(8),d=n(7),h=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)("li",{children:Object(r.jsx)("span",{route:this.props.route,refprop:"#"+this.props.refprop,href:this.props.route,onClick:function(t){return e.props.callback(t,e.props.refprop.current,e.props.route)},style:{transition:"all 0.3s"},className:this.props.className+(this.props.active===this.props.route?" b pb1 bb bw2 b--white-50":""),children:this.props.text})})}}]),n}(i.Component),p=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).menuClick=function(e,t,n){r.state.menuEnabled&&r.setState({menuEnabled:!1});try{t.scrollIntoView({behavior:"smooth"})}catch(i){console.warn("Unable to scroll to, ref link is probably broken")}},r.expendMenu=function(){r.setState({menuEnabled:!r.state.menuEnabled})},r.state={menuEnabled:!1},r}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("nav",{id:"navbar",className:"bgt1 bgblur z-999 absolute",style:{position:"fixed",top:0},children:[Object(r.jsxs)("div",{className:"flex flex-column-m justify-between-l",children:[Object(r.jsx)("a",{href:"#home",className:"flex-m justify-center-m",children:Object(r.jsx)("img",{className:"mr0-m ml0-m h3",src:this.props.logo,alt:"Logo Domaine Michelin",onClick:function(t){return e.menuClick(t,document.getElementById("root"),"home")}})}),Object(r.jsx)("div",{className:"hamburger db dn-ns self-center pa3",style:{marginLeft:"auto"},id:"expandmenu",onClick:this.expendMenu,children:Object(r.jsx)("svg",{width:"2em",height:"2em",viewBox:"0 0 16 16",className:"bi bi-three-dots-vertical pointer",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{fillRule:"evenodd",fill:"white",d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})})}),Object(r.jsx)("ul",{className:"dn mt2-m mb3-m list justify-around tc flex-ns pa1 mr3 self-center-l",children:this.props.links.reduce((function(t,n){return t.push(Object(r.jsx)(h,{text:n.text,route:n.route,refprop:e.props.refs[t.length],active:e.props.active,callback:e.menuClick,className:"tc1 pointer link dim f4 ma3-l mb0-l mt0-l"},t.length)),t}),[])})]}),this.state.menuEnabled?Object(r.jsx)("ul",{className:"dn-ns list mb0 justify-around vh-50 tc v-mid flex flex-column flex-row-ns ",children:this.props.links.reduce((function(t,n){return t.push(Object(r.jsx)(h,{text:n.text,route:n.route,refprop:e.props.refs[t.length],active:e.props.active,callback:e.menuClick,className:"tc1 pointer link dim f3"},t.length)),t}),[])}):null]})}}]),n}(i.Component),b=n(3),m=n.n(b),f=n(10),v=n(11),j=["Organic winery at the heart of Minervois",3e3,"Quality-driven",2500,"Human-sized",2500],x=[{text:"Discover our story",icon:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-arrow-down-square",viewBox:"0 0 16 16",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})})},{text:"Contact us",icon:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-envelope",viewBox:"0 0 16 16",children:Object(r.jsx)("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"})})}],y=n(2),g=n(9),O=n(20);y.b.registerPlugin(g.a);var w=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"initTriggers",value:function(){var e=this;g.a.create({trigger:"#hero",start:"0 0",end:"100% 0%",onEnterBack:function(){try{e.state.videoEl.play()}catch(t){}},onLeave:function(){try{e.state.videoEl.pause()}catch(t){}}})}},{key:"render",value:function(){var e=this;return Object(r.jsx)("video",{id:"hero_video",className:this.props.videoLoaded?"z-2":"z-0",autoPlay:!0,loop:!1,muted:!0,onEnded:function(t){return e.props.callbackEnded(t)},onCanPlay:function(t){return e.props.callbackCanPlay(t)},children:Object(r.jsx)("source",{src:this.props.srcs[this.props.videoindex],poster:this.props.thumbnails[this.props.thumbnailindex]})})}}]),n}(i.Component),k=n(12),N=n.n(k);y.b.registerPlugin(g.a);var S=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{id:"hero_thumbnail",className:"",children:[Object(r.jsx)("img",{id:"hero_thumbnail",src:this.props.thumbnails[this.props.thumbnailinex],className:this.props.videoLoaded?"dn":"db",alt:"Preview thumbnail"}),this.props.videoLoaded?null:Object(r.jsx)(N.a,{type:"TailSpin",color:"#cccccc",className:"loader z-3",height:100,width:100})]})}}]),n}(i.Component);y.b.registerPlugin(g.a);var C=function(e){Object(u.a)(i,e);var t=Object(d.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={videoEl:null,videoLoaded:!1,srcs:[],thumbnails:[],videoindex:0,thumbnailindex:0,sources:[]},n}return Object(l.a)(i,[{key:"loadVideos",value:function(){var e=Object(v.a)(m.a.mark((function e(){var t=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(8).then(n.bind(null,72)).then((function(e){var n,r=[],i=Object(f.a)(e.bgvideos);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push({src:a,type:"video/mp4"})}}catch(c){i.e(c)}finally{i.f()}console.log(r),t.setState({sources:r,srcs:e.bgvideos,thumbnails:e.thumbnails},(function(){return console.log(t.state)}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=document.querySelector("#hero_video");this.setState({videoEl:e,index:1}),this.loadVideos()}},{key:"videoEnded",value:function(e){var t=(this.state.videoindex+1)%this.state.srcs.length;console.log("Video ended // Index : "+this.state.videoindex+" // Srcs length : "+this.state.srcs.length+" // Next index : "+t),this.setState({videoindex:t,videoLoaded:!1}),this.state.videoEl.load()}},{key:"canPlay",value:function(e){console.log("Video can play");var t=(this.state.videoindex+1)%this.state.srcs.length;console.log("Next thumbnail index : "+t),this.setState({videoLoaded:!0,thumbnailindex:t})}},{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{ref:this.props.refprop,id:"hero",className:"flex content-center justify-center",children:[Object(r.jsxs)("div",{className:"hero_element",children:[Object(r.jsx)(w,{id:"hero_video",videoindex:this.state.videoindex,thumnnailindex:this.state.thumbnailindex,srcs:this.state.srcs,thumbnails:this.state.thumbnails,videoLoaded:this.state.videoLoaded,callbackEnded:function(t){return e.videoEnded(t)},callbackCanPlay:function(t){return e.canPlay(t)}}),Object(r.jsx)(S,{id:"hero_thumbnail",thumbnailindex:this.state.thumbnailindex,thumbnails:this.state.thumbnails,videoLoaded:this.state.videoLoaded})]}),Object(r.jsx)(O.a,{className:"b tc1 bgt br3 pa2 coverText pa3 mt4-m textShadow",steps:j,loop:1/0,wrapper:"div"}),Object(r.jsx)("div",{className:"ctaContainer flex flex-column flex-row-ns",children:x.reduce((function(t,n){var i;return t.push(Object(r.jsxs)("div",{className:"ctaItem flex items-center pointer w-100 ma3 mb5-l mb4-m f4-l f5 grow br2 ba bw1 ph3 pv2 dib white bg-black-30 hover-bg-black-60 bgblur",onClick:(i=e.props.ctaRefs[t.length].current,function(){i.scrollIntoView({behavior:"smooth"})}),children:[Object(r.jsx)("span",{className:"pr2 nowrap tc center",children:n.text}),Object(r.jsxs)("span",{className:"w2",children:[" ",n.icon]})]},t.length)),t}),[])})]})}}]),i}(i.Component),L=n(14),E=n.p+"static/media/logowhite.0ff3523c.png",P=[{text:"Home",route:"home",active:"home"},{text:"Story",route:"story",active:"home"},{text:"Winery",route:"winery",active:"home"},{text:"Wines",route:"wines",active:"home"},{text:"Infos & contact",route:"contact",active:"home"}],A=n(17),z=Object(i.lazy)((function(){return n.e(4).then(n.bind(null,73))})),T=Object(i.lazy)((function(){return Promise.all([n.e(3),n.e(7)]).then(n.bind(null,74))})),_=Object(i.lazy)((function(){return n.e(5).then(n.bind(null,75))})),q=Object(i.lazy)((function(){return n.e(6).then(n.bind(null,76))}));window.onbeforeunload=function(){window.scrollTo(0,0)};var M=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(s.a)(this,n),r=t.call(this,e);for(var i=[],c=0;c<P.length;c++)i.push(a.a.createRef());return r.state={route:"#home",refs:i},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){Object(A.a)(P,this)}},{key:"render",value:function(){return Object(r.jsxs)("div",{id:"App",children:[Object(r.jsx)(p,{links:P,refs:this.state.refs,active:this.state.route,logo:E}),Object(r.jsx)(L.a,{id:"Anchor_home",refprop:this.state.refs[0]}),Object(r.jsx)(C,{timeout:5e3,id:"home",ctaRefs:[this.state.refs[1],this.state.refs[4]]}),Object(r.jsx)(L.a,{id:"Anchor_story",refprop:this.state.refs[1]}),Object(r.jsx)(i.Suspense,{fallback:Object(r.jsxs)("div",{className:"h5 bg--yellow",style:{display:"grid",placeContent:"center"},children:[Object(r.jsx)("h3",{children:"Loading ..."}),Object(r.jsx)(N.a,{type:"TailSpin",color:"#cccccc",className:"",visible:!this.state.loaded,height:100,width:100})]}),children:Object(r.jsx)(z,{})}),Object(r.jsx)(L.a,{id:"Anchor_winery",refprop:this.state.refs[2]}),Object(r.jsx)(i.Suspense,{fallback:Object(r.jsxs)("div",{className:"h5 bg--yellow",style:{display:"grid",placeContent:"center"},children:[Object(r.jsx)("h3",{children:"Loading ..."}),Object(r.jsx)(N.a,{type:"TailSpin",color:"#cccccc",className:"",visible:!this.state.loaded,height:100,width:100})]}),children:Object(r.jsx)(T,{})}),Object(r.jsx)(L.a,{id:"Anchor_wines",refprop:this.state.refs[3]})," ",Object(r.jsx)(i.Suspense,{fallback:Object(r.jsxs)("div",{className:"h5 bg--yellow",style:{display:"grid",placeContent:"center"},children:[Object(r.jsx)("h3",{children:"Loading ..."}),Object(r.jsx)(N.a,{type:"TailSpin",color:"#cccccc",className:"",visible:!this.state.loaded,height:100,width:100})]}),children:Object(r.jsx)(_,{refprop:this.state.refs[3],className:"wines"})}),Object(r.jsx)(L.a,{id:"Anchor_contact",refprop:this.state.refs[4]}),Object(r.jsx)(i.Suspense,{fallback:Object(r.jsxs)("div",{className:"h5 bg--yellow",style:{display:"grid",placeContent:"center"},children:[Object(r.jsx)("h3",{children:"Loading ..."}),Object(r.jsx)(N.a,{type:"TailSpin",color:"#cccccc",className:"",visible:!this.state.loaded,height:100,width:100})]}),children:Object(r.jsx)(q,{})})]})}}]),n}(i.Component);o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(M,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.05f739db.chunk.js.map